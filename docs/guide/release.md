<script setup>
const version = import.meta.env.VITE_VERSION
</script>

# 更新日志

当前版本： ^({{version}})

## v1.3.0 ^[(2025-02-09)]

**新特性**

- 新增：后端新增 `common-nacos` 模块，这样是考虑到部分用户仅需要使用本地配置文件来启动一个单体架构的服务，无需部署 `nacos`
  作为配置中心和注册中心，
  请参考 [以单体架构运行后端服务](/guide/install/#以单体架构运行) 章节查看详情

**优化**

- 修复：^link(Table 表格) 组件下载excel数据时，如果高级筛选有无效的条件，会导致导出报错的问题
- 修复：^link(Form 表单) 组件在提交时，若表单中存在文件上传并且设置`single`属性为单一文件上传，同时也设置该表单项必填则无法提交表单的问题
- 修复：代码生成列表删除会报错的问题
- 修复：若用户账号未分配角色在登录时报错的问题
- 优化：^(重要)danger 现在后端的 `file` 文件服务已被删除，其功能已合并至 `system` 系统服务
- 优化：^link(ExcelImport 导入) 组件错误信息优化
- 优化：部分页面样式细节优化
- 优化：在线用户查询默认按照登录时间降序查询

**升级**

- 升级：前端依赖均已升级至最新版本
- 升级：`SpringBoot` 版本至 `v3.4.1`

**文档**

- 因为删除了 `file` 服务，所以后端安装文档，`nacos` 初始化文件配置均已更新

## v1.2.1 ^[(2024-12-15)]

**新特性**

- 新增：现在 `BaseJdbcDao` 中实现的耦合数据库操作已经抽离为 `SqlExecutor` 接口，实现此接口来支持不同数据库类型的ORM持久化操作
- 新增：`PostgreSqlExecutor` 实现类来支持 `mysql` 数据库的持久化操作
- 新增：`MysqlExecutor.java` 实现类来支持 `postgres` 数据库的持久化操作

**优化**

- 修复：因为全局自定义序列化规则导致后端生成的 `swagger文档` 无法访问的问题
- 修复：^link(Dict 获取数据字典详情) 重复获取相同数据字典类型明细时缓存失效的问题
- 修复：^link(Table 表格) 组件 `列排序` 在序号列隐藏后样式错乱的问题
- 优化：因为 `postgresql` 对类型比较敏感，所以现在 `Controller` 层的id参数修已经调整为实体id的实际类型来接收
- 优化：优化在小屏设备的滚动条用户体验，小屏设备使用更流畅
- 优化：`代码生成` 在代码下载的zip文件名称默认为 `功能名.zip`，代码生成明细查看时隐藏清空和排序按钮
- 优化：`代码生成` 输入表名称会自动按规则带出实体名
- 优化：一些菜单按钮添加了图标，现在的界面更加美观

**升级**

- 升级：^link(vite) 已升级至最新的 `6.x` 版本，移除 vite5 的 ^link(sass) 现代化配置，因为在 vite6.x 版本中已默认使用现代的API来编译
  `sass`

**文档**

- 新增：^link(Swagger 文档)
- 优化：文档现在会显示当前系统的版本号，优化了部分文档错误

## v1.2.0 ^[(2024-11-24)]

**新特性**

- 新增：^(重要)danger 新增 `代码生成` 功能菜单，现在可以在开发环境生成规范的增删改查代码了，
  [系统初始化sql语句](/guide/install/initialized-database/)、
  [jenkins部署脚本](/guide/deploy/microservice.html#后端服务部署) 都已更新
- 新增：^(重要)danger 后端新增 `generator` 微服务
- 新增：^link(Table 表格)#operation-操作列 操作按钮列新增 `hidden` 属性，可以手动控制显隐
- 新增：^link(Table 表格)#operation-操作列 按钮的 `icon` 属性支持直接传入 ^link(Icon 图标) 组件的 `value` 展示自定义图标
- 新增：^link(Table 表格) 组件现在支持 `el-table-row` 默认插槽，默认追加到配置项列后边
- 新增：^link(Validate 数据验证) 增加了整数 `int` 的快捷验证类型
- 新增：^link(Validate 数据验证) 现在整体的表单数据验证函数支持直接传入规则数组来进行验证
- 新增：`utils` 工具类新增一些字符串处理函数，方便一些字符串的处理

**优化**

- 修复：修复 `el-dialog` 和 `el-drawer` 在全屏时的宽度无法充满的问题
- 修复：修复 ^link(typescript) 类型定义的部分错误
- 修复：修复 ^link(Table 表格) 组件的内存泄漏问题（该漏洞导致切换页签内存无法释放，编辑型表格内持续编辑会占用大量内存）
- 修复：修复 ^link(Upload 上传) `single` 属性为 `true` 时，附件在预览时无法下载的问题
- 修复：修复 ^link(Request 请求) 在响应内容类型为非 `application/json` 时无法正确处理的问题，现在服务端响应文件流也可以正确处理
-
- 优化：现在 ^link(Table 表格) 组件的表格列被用户调整排序后，导出的excel文件列将会保持与排序后的表格列一致
- 优化：^link(Form 表单) 组件表单项动态布局的实现逻辑，现在实现跨列布局也更加容易、灵活

**升级**

- 升级：^link(eslint) 升级至9.x版本，现在eslint配置文件已调整至新版本格式
- 升级：前端和后端所有依赖均已升级至最新版本

**文档**

- 新增：^link(Form 表单) 手册新增一些演示案例
- 新增：新增 [初始化语句](/guide/install/initialized-database/) 文档，方便新人安装时找到初始化语句
- 优化：修复部分文档错误

## v1.1.1 ^[(2024-08-25)]

**新特性**

- 新增：`数据权限` 功能， 简单，灵活，强大的的数据权限设计方案，由 `人员ID`、`机构ID`、`角色ID`
  三个条件自由组合的逻辑表达式动态生成权限sql，可轻松实现各种场景的数据权限需求。
- 新增：现在 `文件管理`、`系统日志` 功能列表数据已经添加数据权限逻辑，可在 `角色管理` 菜单中动态设置其数据权限。
- 新增：全局单例的上下文菜单显示工具类函数，轻松实现右击显示菜单功能， 参考前端手册 ^link(ContextMenu 上下文菜单)。
- 新增：现在系统请求如果发生错误，那么本次请求始终会记录到系统日志中，方便后续问题排查。
- 新增：数据权限基础实体，保存时，会自动注入当前岗位机构id和权限id，当有数据权限需求时，可继承该类实现默认逻辑。
- 新增：`LoginUtil` 类新增 `getOnlineUserInfo` 方法方便获取当前登录用户详情。

**优化**

- 修复：`系统菜单` 维护功能选择上级菜单后，无法保存的bug
- 修复：^link(EChart 图表) 初次渲染动画丢失的问题
- 优化：^link(EChart 图表) 工具函数，如果图表初始化时，dom实例隐藏或者宽高为0，那么表格渲会染延迟到dom显示之后
- 优化：`系统日志` 查询样式优化调整，列顺序调整
- 优化：`TopFilter` 组件，放弃原有表单实现逻辑，现使用 ^link(Form 表单) 组件来实现简单查询条件表单

**文档**

- 新增：前端手册 - ContextMenu 上下文菜单 工具类手册

## v1.1.0 ^[(2024-08-03)]

**新特性**

- 新增：Table 组件添加 `validate` 暴露方法，可进行表格编辑数据的表单验证，支持内存分页状态下的表单验证
- 新增：系统菜单查询添加创建时间区间查询

**优化**

- 修复：SvgIcon 组件 `src` 切换源码加载顺序错误，导致图标显示不对的问题，`svg` 属性动态修改的bug
- 修复：IconSelect 组件 选择本地svg图标时样式问题
- 修复：SingleDatePicker 组件起止日期不能选择相同日期的问题
- 修复：圆润页签图标不显示的问题
- 优化：ExcelImport 组件调整 `on-complete` 函数为 `Promise` 异步返回
- 优化：Form 组件表单项 `render` 添加默认的渲染的 `vNode` 参数

**文档**

- 新增：前端手册 - Table 组件手册
- 新增：前端手册 - Form 组件手册
- 新增：前端手册 - 前端规范说明文档
- 调整：nacos初始化sql调整，演示文档模拟后台地址调整

## v1.0.2 ^[(2024-07-20)]

**新特性**

- 新增：文件下载预览支持304协商缓存

**优化**

- 优化：ExcelImport 组件调整 `on-complete` 函数为 `Promise` 异步返回
- 优化：部分类型定义注释更新
- 升级：更新依赖库版本至最新

**文档**

- 新增：前端手册 - Upload 组件手册
- 新增：前端手册 - Icon 组件手册
- 新增：前端手册 - ExcelImport 组件手册
- 新增：前端手册 - validate 工具类手册

## v1.0.1 ^[(2024-06-17)]

**新特性**

- 新增：布局配置栏可定制菜单宽度

**优化**

- 优化：布局bug导致的ui卡顿问题
- 优化：矮屏设备不展示 `navTabs` 页签栏
- 修复：当请求体未被 `controller` 读取，`ContentCachingRequestWrapper` 读取请求体内容为空的问题，导致日志未记录请求体内容
- 修复：当 `ip` 地址为 `localhost` 时不解析 ip所属地

**文档**

- 调整：`README`文件调整
- 调整：底部栏调整

## v1.0.0 ^[(2024-06-01)]

**新特性**

- 新增：系统管理模块
- 新增：菜单管理
- 新增：用户管理
- 新增：角色管理
- 新增：机构管理
- 新增：用户组管理
- 新增：文件管理
- 新增：数据字典
- 新增：系统日志

**文档**

- 新增：项目文档

<style scoped>
ul {
 font-size: 14px!important;
}
li {
    margin: 2px!important;
}
</style>
