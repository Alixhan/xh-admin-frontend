<template>
  <m-table :columns="tableColumns" :data="data" layout="stretch" :is-page="false">
    <template #left-action>
      <el-text style="white-space: nowrap">å¾…åŠåˆ—è¡¨</el-text>
      <el-link type="primary" style="margin-left: 10px; white-space: nowrap" @click="more('ç‚¹å‡»äº†æ›´å¤š.')">æ›´å¤š</el-link>
    </template>
  </m-table>
</template>
<script lang="jsx" setup>
import { ElMessage } from 'element-plus'
import { computed } from 'vue'

const tableColumns = computed(() => [
  { type: 'index', align: 'center' },
  { prop: 'title', label: 'æ ‡é¢˜', width: 100 },
  {
    prop: 'desc',
    label: 'æè¿°',
    slots: {
      default: (scope) => {
        if (scope.row.title === 'å‘¨æŠ¥') {
          return (
            <span>
              {scope.row.desc}
              <el-link type="primary" underline="never" onClick={() => more('å‘¨æŠ¥å·²å¡«å†™')}>
                å¡«å†™
              </el-link>
            </span>
          )
        }
        return scope.row.desc
      }
    }
  },
  { prop: 'expirationDate', label: 'æˆªæ­¢æ—¥æœŸ', type: 'date', width: 100 }
])
const data = [
  { title: 'é”€å”®çº¿ç´¢', desc: 'æå››çš„é”€å”®çº¿ç´¢å¾…æ›´è¿›', expirationDate: '2024-10-01' },
  { title: 'æ¸©é¦¨æç¤º', desc: 'ä¸‹å‘¨å†·ç©ºæ°”ä¸‹é™ï¼Œè®°å¾—å¤šç©¿è¡£æœå“¦ğŸ‘»', expirationDate: '2024-10-01' },
  { title: 'æœ¬æœˆè®¡åˆ’', desc: 'æœŸå¾…æ›´ç¾å¥½çš„äº‹æƒ…ğŸ˜Šâœ¨', expirationDate: '2024-10-01' },
  { title: 'å‘¨æŠ¥', desc: 'è¯·åŠæ—¶å¡«å†™å‘¨æŠ¥ï¼', expirationDate: '2024-04-01' }
]

function more(msg) {
  ElMessage({
    message: msg,
    type: 'success'
  })
}
</script>
<style lang="scss" scoped></style>
