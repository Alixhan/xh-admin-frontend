<template>
  <div>
    <el-text>
      <div class="greeting-view">ä½ å¥½ï¼Œ{{ systemStore.user.name }}!</div>
    </el-text>
    <div class="description-view">
      <el-text>
        å‰åç«¯åˆ†ç¦»çš„å¼€æºç®¡ç†ç³»ç»Ÿï¼Œæœ€æ–°æŠ€æœ¯æ ˆå¼€å‘ã€‚
        <!--        <el-tag>å®Œå…¨å¼€æºå…è´¹</el-tag>-->
        <br />

        å¦‚æœè§‰å¾—ä¸é”™çš„è¯ï¼Œç‚¹ä¸ª
        <el-link type="primary" @click="open('https://gitee.com/sun-xiaohan/xh-admin-frontend')">star</el-link>&nbsp;
        â¤ï¸ï¼Œç»™ç‚¹æ”¯æŒé¼“åŠ±ğŸŒ¹ã€‚ä»£ç ä»“åº“ï¼š
        <el-link type="primary" @click="open('https://gitee.com/sun-xiaohan/xh-admin-frontend')">gitee</el-link>&nbsp;
        <el-link type="primary">github</el-link>&nbsp; <br />
        å®˜ç½‘æ–‡æ¡£åœ°å€ï¼š
        <el-link type="primary" @click="open('http://www.xhansky.cn')">https://www.xhansky.cn</el-link>&nbsp;
      </el-text>
    </div>
  </div>
</template>
<script lang="ts" setup>
import { useSystemStore } from '@/stores/system'
import { useLocalStorage } from '@vueuse/core'
import { ElMessageBox } from 'element-plus'

const systemStore = useSystemStore()

const firstVisit = useLocalStorage('firstVisit', true)

if (firstVisit.value) {
  setTimeout(async () => {
    await ElMessageBox.confirm('è§‰å¾—ä¸é”™çš„è¯ï¼Œå¯ä»¥å¸®å¿™ star ç‚¹ä¸ªå°â­â­å—ï¼Ÿæ„Ÿæ¿€ä¸æ•¬ï¼', 'å°å°è¯·æ±‚', {
      confirmButtonText: 'é©¬ä¸Šå»',
      cancelButtonText: 'æˆ‘å°±ä¸ï¼',
      closeOnClickModal: false
    })
      .then(() => {
        open('https://gitee.com/sun-xiaohan/xh-admin-frontend')
      })
      .catch(() => {})
    firstVisit.value = false
  }, 60000)
}

function open(url: string) {
  window.open(url)
}
</script>
<style lang="scss" scoped>
.greeting-view {
  padding-bottom: 10px;
  font-weight: bold;
  font-size: 1.2em;
}

.description-view {
  line-height: 25px;
}
</style>
